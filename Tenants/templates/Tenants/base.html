<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Tenant System</title>
	{% load static %}
	<link rel="shortcut icon" href="{% static 'Tenants/images/house.png' %}">
	<!-- Global stylesheets -->
	<link href="{% static 'Tenants/global_assets/css/icons/icomoon/styles.min.css ' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/assets/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/assets/css/bootstrap_limitless.min.css  '%}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/assets/css/layout.min.css'%}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/assets/css/components.min.css '%}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/assets/css/colors.min.css '%}" rel="stylesheet" type="text/css">
	<link href="{% static 'Tenants/fontawesome-free/css/all.css'%}" rel="stylesheet" type="text/css">
	<!-- /global stylesheets -->

	<!-- Core JS files -->
	<script src="{% static 'Tenants/global_assets/js/main/jquery.min.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/main/bootstrap.bundle.min.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/loaders/blockui.min.js'%}"></script>
	<!-- /core JS files -->

	<!-- Theme JS files -->
	<script src="{% static 'Tenants/global_assets/js/plugins/visualization/d3/d3.min.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/visualization/d3/d3_tooltip.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/forms/styling/switchery.min.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/forms/selects/bootstrap_multiselect.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/ui/moment/moment.min.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/plugins/pickers/daterangepicker.js'%}"></script>

	<script src="{% static 'Tenants/assets/js/app.js'%}"></script>
	<script src="{% static 'Tenants/global_assets/js/demo_pages/dashboard.js'%}"></script>

	<script src="{% static 'Tenants/global_assets/js/plugins/notifications/pnotify.min.js' %}"></script>


	{% block header %}
	  
	{% endblock header %}
	<!-- /theme JS files -->

</head>

<body>

	<!-- Main navbar -->
	<div class="navbar navbar-expand-md navbar-dark">
		<div class="navbar-brand">
			<a href="{% if request.user.is_authenticated %}
			  /
			{% else %}
			{% url 'Tenants:login_user' %}			  
			{% endif %}
			" class="d-inline-block">
				<i class="icon-home5 mr-2 mb-1" style="font-size: 25px;"></i> Rental System
			</a>
		</div>

		<div class="d-md-none">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-mobile">
				<i class="icon-tree5"></i>
			</button>
			<button class="navbar-toggler sidebar-mobile-main-toggle" type="button">
				<i class="icon-paragraph-justify3"></i>
			</button>
		</div>

		<div class="collapse navbar-collapse " id="navbar-mobile">
			<ul class="navbar-nav ml-md-3 mr-md-auto">
				<li class="nav-item">
					<a href="#" class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block">
						<i class="icon-paragraph-justify3"></i>
					</a>
				</li>

			</ul>


			<ul class="navbar-nav">

				<li class="nav-item" >
					{% if request.user.is_authenticated %}
					<a href="{% url 'Tenants:logout_user' %}" style="color: rgb(252, 252, 252);" class="nav-link"><i class="icon-switch2"></i> Logout</a>					
					{% else %}
					<a href="{% url 'Tenants:login_user' %}" style="color: rgb(252, 252, 252);" class="nav-link"><i class="icon-user"></i> Login</a>
					  
					{% endif %}
					
				</li>
			</ul>
		</div>
	</div>
	<!-- /main navbar -->

	<div class="page-content">
		<!-- Main sidebar -->
		
		{% if request.user.is_authenticated %}
		<div class="sidebar sidebar-dark sidebar-main sidebar-expand-md">
			<!-- Sidebar mobile toggler -->
			<div class="sidebar-mobile-toggler text-center">
				<a href="#" class="sidebar-mobile-main-toggle">
					<i class="icon-arrow-left8"></i>
				</a>
				Navigation
				<a href="#" class="sidebar-mobile-expand">
					<i class="icon-screen-full"></i>
					<i class="icon-screen-normal"></i>
				</a>
			</div>
			<!-- Sidebar content -->
			<div class="sidebar-content">
				<!-- Main navigation -->
				<div class="card card-sidebar-mobile">
					<ul class="nav nav-sidebar" data-nav-type="accordion">

						<!-- Main -->
						<li class="nav-item-header"><div class="text-uppercase font-size-xs line-height-xs">Main</div> <i class="icon-menu" title="Main"></i></li>
						<li class="nav-item">
							<a href="{% url 'Tenants:index' %}" class="nav-link active">
								<i class="icon-home4"></i>
								<span>
									Dashboard
								</span>
							</a>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-users"></i> <span>Tenants</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="{% url 'Tenants:register_tenant' %}" class="nav-link"><i class="icon-user-plus"></i> Register Tenant</a></li>
								<li class="nav-item"><a href="{% url 'Tenants:tenants_list' %}" class="nav-link"> <i class="icon-list-unordered"></i> List all</a></li>
							</ul>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-user-tie"></i> <span>Caretakers</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="{% url 'Tenants:register_caretaker' %}" class="nav-link"><i class="icon-user-plus"></i> Register Caretaker</a></li>
								<li class="nav-item"><a href="{% url 'Tenants:caretaker_list' %}" class="nav-link"> <i class="icon-list-unordered"></i> List all</a></li>
							</ul>
						</li>

						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-office"></i> <span>Properties</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Themes">
								<li class="nav-item"><a href="{% url 'Tenants:register_apartments' %}" class="nav-link active"><i class="icon-plus-circle2"></i>Create Property</a></li>
								<li class="nav-item"><a href="{% url 'Tenants:apartment_list' %}" class="nav-link"><i class="icon-list-unordered"></i> View Properties</a></li>
							</ul>
						</li>

						<li class="nav-item">
							<a href="{% url 'Tenants:all_houses' %}" class="nav-link">
								<i class="icon-library2"></i>
								<span>Property Units</span>
							</a>
						</li>
						<!-- Forms -->
						<li class="nav-item-header"><div class="text-uppercase font-size-xs line-height-xs">Leases/Tenancy</div> <i class="icon-menu" title="Forms"></i></li>
						<li class="nav-item">
							<a href="{% url 'Tenants:register_lease' %}" class="nav-link"><i class="icon-file-plus"></i> <span>Create Lease</span></a>
						</li>
						<li class="nav-item">
							<a href="{% url 'Tenants:leases_list' %}" class="nav-link"><i class="icon-file-eye"></i> <span>Show Leases</span></a>
						</li>
						<!-- /forms -->

						<!-- Components -->
						<li class="nav-item-header"><div class="text-uppercase font-size-xs line-height-xs">Inventory/Invoices</div> <i class="icon-menu" title="Components"></i></li>
						<li class="nav-item">
							<a href=" {% url 'Tenants:active_leases' %} " class="nav-link"><i class="icon-books"></i> <span>Invoices</span></a>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="" class="nav-link"><i class="icon-folder-search"></i> <span>Reports</span></a>
							<ul class="nav nav-group-sub" data-submenu-title="Content styling">
								<li class="nav-item"><a href="{% url 'Tenants:generate_invoices' %}" class="nav-link">Generate Invoice</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<!-- /main navigation -->

			</div>
			<!-- /sidebar content -->
		</div>
		{% endif %}

		<!-- Main content -->
		<div class="content-wrapper">
		{%if messages%}
        {% for message in messages %}
			<script>
				var Pnotify = function() {

					var _componentPnotify = function() {
						if (typeof PNotify == 'undefined') {
							console.warn('Warning - pnotify.min.js is not loaded.');
							return;
						}
					}
					$(document).ready(function() {
						new PNotify({
							title: 'Message notice',
							text: '{{message}}',
							addclass: 'bg-{{message.tags}} border-success'
						});
						});
						return {
						init: function() {
							_componentPnotify();
						}
					}
				}();
				document.addEventListener('DOMContentLoaded', function() {
					Pnotify.init();
				});

			</script>
			{%endfor%}
			{%endif%}
			{% block body %}
			  
			{% endblock body %}
			<!-- Footer -->
			<div class="navbar navbar-expand-lg navbar-light">
				<div class="text-center d-lg-none w-100">
					<button type="button" class="navbar-toggler dropdown-toggle" data-toggle="collapse" data-target="#navbar-footer">
						<i class="icon-unfold mr-2"></i>
						Footer
					</button>
				</div>

				<div class="navbar-collapse collapse" id="navbar-footer">
					<span class="navbar-text">
						&copy; 2021. <a href="#">Rental System</a> by <a href="">PnJKenya</a>
					</span>

					<ul class="navbar-nav ml-lg-auto">
						<li class="nav-item"><a href="https://kopyov.ticksy.com/" class="navbar-nav-link" target="_blank"><i class="icon-lifebuoy mr-2"></i> Support</a></li>
						<li class="nav-item"><a href="http://demo.interface.club/limitless/docs/" class="navbar-nav-link" target="_blank"><i class="icon-file-text2 mr-2"></i> Docs</a></li>
						<li class="nav-item"><a href="https://themeforest.net/item/limitless-responsive-web-application-kit/13080328?ref=kopyov" class="navbar-nav-link font-weight-semibold"><span class="text-pink-400"><i class="icon-cart2 mr-2"></i> Purchase</span></a></li>
					</ul>
				</div>
			</div>
			<!-- /footer -->
		</div>
	</div>

<div class="modal fade" id="confirmDeleteModal" tabindex="-1" caller-id="" role="dialog"
    aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header text-center">
          <div class="container text-center">
            <h2 class="modal-title" id="">Terminate Lease</h2>
          </div>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>
        <div class="modal-body confirm-delete">
          <div class="container text-center">
            <i class="icon-warning" style="color:red; font-size: 50px;"></i><br>
            <span>Are you sure you want to Terminate this lease?</span><br>
            <h3>This action is permanent!</h3>
          </div>
        </div>
        <div class="modal-footer">
          <div class="container">
            <button style="float:left;" type="button" class="btn btn-primary btn-sm"
              data-dismiss="modal">Cancel</button>
            <button style="float:right;" type="button" class="btn btn-danger btn-sm" data-dismiss="modal"
              id="confirmDeleteButtonModal">Confirm</button>
          </div>
        </div>
      </div>
    </div>
</div>

	<script>
		$(document).on('click', '.confirm-delete', function () {
		  $("#confirmDeleteModal").attr("caller-id", $(this).attr("id"));
		});
	
		$(document).on('click', '#confirmDeleteButtonModal', function () {
		  var caller = $("#confirmDeleteButtonModal").closest(".modal").attr("caller-id");
		  window.location = $("#".concat(caller)).attr("href");
		});
	  </script>
	

	{% block scripts %}
	  
	{% endblock scripts %}
</body>
</html>
